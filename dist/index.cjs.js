'use strict';

var a$6 = require('react');

const TableColumn = (
// We'll see how to refactor this unused component
// eslint-disable-next-line @typescript-eslint/no-unused-vars
_props) => {
    return null;
};

const l$1 = /* @__PURE__ */ new Map([
  [
    "bold",
    /* @__PURE__ */ a$6.createElement(a$6.Fragment, null, /* @__PURE__ */ a$6.createElement("path", { d: "M216.49,104.49l-80,80a12,12,0,0,1-17,0l-80-80a12,12,0,0,1,17-17L128,159l71.51-71.52a12,12,0,0,1,17,17Z" }))
  ],
  [
    "duotone",
    /* @__PURE__ */ a$6.createElement(a$6.Fragment, null, /* @__PURE__ */ a$6.createElement("path", { d: "M208,96l-80,80L48,96Z", opacity: "0.2" }), /* @__PURE__ */ a$6.createElement("path", { d: "M215.39,92.94A8,8,0,0,0,208,88H48a8,8,0,0,0-5.66,13.66l80,80a8,8,0,0,0,11.32,0l80-80A8,8,0,0,0,215.39,92.94ZM128,164.69,67.31,104H188.69Z" }))
  ],
  [
    "fill",
    /* @__PURE__ */ a$6.createElement(a$6.Fragment, null, /* @__PURE__ */ a$6.createElement("path", { d: "M213.66,101.66l-80,80a8,8,0,0,1-11.32,0l-80-80A8,8,0,0,1,48,88H208a8,8,0,0,1,5.66,13.66Z" }))
  ],
  [
    "light",
    /* @__PURE__ */ a$6.createElement(a$6.Fragment, null, /* @__PURE__ */ a$6.createElement("path", { d: "M212.24,100.24l-80,80a6,6,0,0,1-8.48,0l-80-80a6,6,0,0,1,8.48-8.48L128,167.51l75.76-75.75a6,6,0,0,1,8.48,8.48Z" }))
  ],
  [
    "regular",
    /* @__PURE__ */ a$6.createElement(a$6.Fragment, null, /* @__PURE__ */ a$6.createElement("path", { d: "M213.66,101.66l-80,80a8,8,0,0,1-11.32,0l-80-80A8,8,0,0,1,53.66,90.34L128,164.69l74.34-74.35a8,8,0,0,1,11.32,11.32Z" }))
  ],
  [
    "thin",
    /* @__PURE__ */ a$6.createElement(a$6.Fragment, null, /* @__PURE__ */ a$6.createElement("path", { d: "M210.83,98.83l-80,80a4,4,0,0,1-5.66,0l-80-80a4,4,0,0,1,5.66-5.66L128,170.34l77.17-77.17a4,4,0,1,1,5.66,5.66Z" }))
  ]
]);

const a$5 = /* @__PURE__ */ new Map([
  [
    "bold",
    /* @__PURE__ */ a$6.createElement(a$6.Fragment, null, /* @__PURE__ */ a$6.createElement("path", { d: "M216.49,168.49a12,12,0,0,1-17,0L128,97,56.49,168.49a12,12,0,0,1-17-17l80-80a12,12,0,0,1,17,0l80,80A12,12,0,0,1,216.49,168.49Z" }))
  ],
  [
    "duotone",
    /* @__PURE__ */ a$6.createElement(a$6.Fragment, null, /* @__PURE__ */ a$6.createElement("path", { d: "M208,160H48l80-80Z", opacity: "0.2" }), /* @__PURE__ */ a$6.createElement("path", { d: "M213.66,154.34l-80-80a8,8,0,0,0-11.32,0l-80,80A8,8,0,0,0,48,168H208a8,8,0,0,0,5.66-13.66ZM67.31,152,128,91.31,188.69,152Z" }))
  ],
  [
    "fill",
    /* @__PURE__ */ a$6.createElement(a$6.Fragment, null, /* @__PURE__ */ a$6.createElement("path", { d: "M215.39,163.06A8,8,0,0,1,208,168H48a8,8,0,0,1-5.66-13.66l80-80a8,8,0,0,1,11.32,0l80,80A8,8,0,0,1,215.39,163.06Z" }))
  ],
  [
    "light",
    /* @__PURE__ */ a$6.createElement(a$6.Fragment, null, /* @__PURE__ */ a$6.createElement("path", { d: "M212.24,164.24a6,6,0,0,1-8.48,0L128,88.49,52.24,164.24a6,6,0,0,1-8.48-8.48l80-80a6,6,0,0,1,8.48,0l80,80A6,6,0,0,1,212.24,164.24Z" }))
  ],
  [
    "regular",
    /* @__PURE__ */ a$6.createElement(a$6.Fragment, null, /* @__PURE__ */ a$6.createElement("path", { d: "M213.66,165.66a8,8,0,0,1-11.32,0L128,91.31,53.66,165.66a8,8,0,0,1-11.32-11.32l80-80a8,8,0,0,1,11.32,0l80,80A8,8,0,0,1,213.66,165.66Z" }))
  ],
  [
    "thin",
    /* @__PURE__ */ a$6.createElement(a$6.Fragment, null, /* @__PURE__ */ a$6.createElement("path", { d: "M210.83,162.83a4,4,0,0,1-5.66,0L128,85.66,50.83,162.83a4,4,0,0,1-5.66-5.66l80-80a4,4,0,0,1,5.66,0l80,80A4,4,0,0,1,210.83,162.83Z" }))
  ]
]);

const a$4 = /* @__PURE__ */ new Map([
  [
    "bold",
    /* @__PURE__ */ a$6.createElement(a$6.Fragment, null, /* @__PURE__ */ a$6.createElement("path", { d: "M184.49,167.51a12,12,0,0,1,0,17l-48,48a12,12,0,0,1-17,0l-48-48a12,12,0,0,1,17-17L128,207l39.51-39.52A12,12,0,0,1,184.49,167.51Zm-96-79L128,49l39.51,39.52a12,12,0,0,0,17-17l-48-48a12,12,0,0,0-17,0l-48,48a12,12,0,0,0,17,17Z" }))
  ],
  [
    "duotone",
    /* @__PURE__ */ a$6.createElement(a$6.Fragment, null, /* @__PURE__ */ a$6.createElement("path", { d: "M80,176h96l-48,48ZM128,32,80,80h96Z", opacity: "0.2" }), /* @__PURE__ */ a$6.createElement("path", { d: "M176,168H80a8,8,0,0,0-5.66,13.66l48,48a8,8,0,0,0,11.32,0l48-48A8,8,0,0,0,176,168Zm-48,44.69L99.31,184h57.38ZM80,88h96a8,8,0,0,0,5.66-13.66l-48-48a8,8,0,0,0-11.32,0l-48,48A8,8,0,0,0,80,88Zm48-44.69L156.69,72H99.31Z" }))
  ],
  [
    "fill",
    /* @__PURE__ */ a$6.createElement(a$6.Fragment, null, /* @__PURE__ */ a$6.createElement("path", { d: "M72.61,83.06a8,8,0,0,1,1.73-8.72l48-48a8,8,0,0,1,11.32,0l48,48A8,8,0,0,1,176,88H80A8,8,0,0,1,72.61,83.06ZM176,168H80a8,8,0,0,0-5.66,13.66l48,48a8,8,0,0,0,11.32,0l48-48A8,8,0,0,0,176,168Z" }))
  ],
  [
    "light",
    /* @__PURE__ */ a$6.createElement(a$6.Fragment, null, /* @__PURE__ */ a$6.createElement("path", { d: "M180.24,171.76a6,6,0,0,1,0,8.48l-48,48a6,6,0,0,1-8.48,0l-48-48a6,6,0,0,1,8.48-8.48L128,215.51l43.76-43.75A6,6,0,0,1,180.24,171.76Zm-96-87.52L128,40.49l43.76,43.75a6,6,0,0,0,8.48-8.48l-48-48a6,6,0,0,0-8.48,0l-48,48a6,6,0,0,0,8.48,8.48Z" }))
  ],
  [
    "regular",
    /* @__PURE__ */ a$6.createElement(a$6.Fragment, null, /* @__PURE__ */ a$6.createElement("path", { d: "M181.66,170.34a8,8,0,0,1,0,11.32l-48,48a8,8,0,0,1-11.32,0l-48-48a8,8,0,0,1,11.32-11.32L128,212.69l42.34-42.35A8,8,0,0,1,181.66,170.34Zm-96-84.68L128,43.31l42.34,42.35a8,8,0,0,0,11.32-11.32l-48-48a8,8,0,0,0-11.32,0l-48,48A8,8,0,0,0,85.66,85.66Z" }))
  ],
  [
    "thin",
    /* @__PURE__ */ a$6.createElement(a$6.Fragment, null, /* @__PURE__ */ a$6.createElement("path", { d: "M178.83,173.17a4,4,0,0,1,0,5.66l-48,48a4,4,0,0,1-5.66,0l-48-48a4,4,0,0,1,5.66-5.66L128,218.34l45.17-45.17A4,4,0,0,1,178.83,173.17Zm-96-90.34L128,37.66l45.17,45.17a4,4,0,1,0,5.66-5.66l-48-48a4,4,0,0,0-5.66,0l-48,48a4,4,0,0,0,5.66,5.66Z" }))
  ]
]);

const o$1 = a$6.createContext({
  color: "currentColor",
  size: "1em",
  weight: "regular",
  mirrored: !1
});

var y = Object.defineProperty;
var c$3 = Object.getOwnPropertySymbols;
var f$3 = Object.prototype.hasOwnProperty, g = Object.prototype.propertyIsEnumerable;
var d = (t, o, e) => o in t ? y(t, o, { enumerable: !0, configurable: !0, writable: !0, value: e }) : t[o] = e, l = (t, o) => {
  for (var e in o || (o = {}))
    f$3.call(o, e) && d(t, e, o[e]);
  if (c$3)
    for (var e of c$3(o))
      g.call(o, e) && d(t, e, o[e]);
  return t;
};
var a$3 = (t, o) => {
  var e = {};
  for (var r in t)
    f$3.call(t, r) && o.indexOf(r) < 0 && (e[r] = t[r]);
  if (t != null && c$3)
    for (var r of c$3(t))
      o.indexOf(r) < 0 && g.call(t, r) && (e[r] = t[r]);
  return e;
};
const h = a$6.forwardRef((t, o) => {
  const m = t, {
    alt: e,
    color: r,
    size: n,
    weight: s,
    mirrored: p,
    children: u,
    weights: C
  } = m, v = a$3(m, [
    "alt",
    "color",
    "size",
    "weight",
    "mirrored",
    "children",
    "weights"
  ]), x = a$6.useContext(o$1), {
    color: B = "currentColor",
    size: i,
    weight: I = "regular",
    mirrored: E = !1
  } = x, R = a$3(x, [
    "color",
    "size",
    "weight",
    "mirrored"
  ]);
  return /* @__PURE__ */ a$6.createElement(
    "svg",
    l(l({
      ref: o,
      xmlns: "http://www.w3.org/2000/svg",
      width: n != null ? n : i,
      height: n != null ? n : i,
      fill: r != null ? r : B,
      viewBox: "0 0 256 256",
      transform: p || E ? "scale(-1, 1)" : void 0
    }, R), v),
    !!e && /* @__PURE__ */ a$6.createElement("title", null, e),
    u,
    C.get(s != null ? s : I)
  );
});
h.displayName = "IconBase";
const b = h;

var i$2 = Object.defineProperty, n$2 = Object.defineProperties;
var p$2 = Object.getOwnPropertyDescriptors;
var t$1 = Object.getOwnPropertySymbols;
var s$2 = Object.prototype.hasOwnProperty, c$2 = Object.prototype.propertyIsEnumerable;
var a$2 = (o, e, r) => e in o ? i$2(o, e, { enumerable: !0, configurable: !0, writable: !0, value: r }) : o[e] = r, m$2 = (o, e) => {
  for (var r in e || (e = {}))
    s$2.call(e, r) && a$2(o, r, e[r]);
  if (t$1)
    for (var r of t$1(e))
      c$2.call(e, r) && a$2(o, r, e[r]);
  return o;
}, f$2 = (o, e) => n$2(o, p$2(e));
const D$1 = a$6.forwardRef((o, e) => /* @__PURE__ */ a$6.createElement(b, f$2(m$2({ ref: e }, o), { weights: l$1 })));
D$1.displayName = "CaretDown";

var f$1 = Object.defineProperty, i$1 = Object.defineProperties;
var s$1 = Object.getOwnPropertyDescriptors;
var o = Object.getOwnPropertySymbols;
var c$1 = Object.prototype.hasOwnProperty, n$1 = Object.prototype.propertyIsEnumerable;
var a$1 = (r, e, t) => e in r ? f$1(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t }) : r[e] = t, m$1 = (r, e) => {
  for (var t in e || (e = {}))
    c$1.call(e, t) && a$1(r, t, e[t]);
  if (o)
    for (var t of o(e))
      n$1.call(e, t) && a$1(r, t, e[t]);
  return r;
}, p$1 = (r, e) => i$1(r, s$1(e));
const I = a$6.forwardRef((r, e) => /* @__PURE__ */ a$6.createElement(b, p$1(m$1({ ref: e }, r), { weights: a$5 })));
I.displayName = "CaretUp";

var f = Object.defineProperty, i = Object.defineProperties;
var n = Object.getOwnPropertyDescriptors;
var t = Object.getOwnPropertySymbols;
var s = Object.prototype.hasOwnProperty, c = Object.prototype.propertyIsEnumerable;
var a = (o, e, r) => e in o ? f(o, e, { enumerable: !0, configurable: !0, writable: !0, value: r }) : o[e] = r, m = (o, e) => {
  for (var r in e || (e = {}))
    s.call(e, r) && a(o, r, e[r]);
  if (t)
    for (var r of t(e))
      c.call(e, r) && a(o, r, e[r]);
  return o;
}, p = (o, e) => i(o, n(e));
const D = a$6.forwardRef((o, e) => /* @__PURE__ */ a$6.createElement(b, p(m({ ref: e }, o), { weights: a$4 })));
D.displayName = "CaretUpDown";

/******************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
/* global Reflect, Promise, SuppressedError, Symbol, Iterator */


function __rest(s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
}

typeof SuppressedError === "function" ? SuppressedError : function (error, suppressed, message) {
    var e = new Error(message);
    return e.name = "SuppressedError", e.error = error, e.suppressed = suppressed, e;
};

const Table = a$6.forwardRef((_a, ref) => {
    var { className } = _a, props = __rest(_a, ["className"]);
    return (a$6.createElement("div", { className: "duma-table__table-wrapper" },
        a$6.createElement("table", Object.assign({ ref: ref, className: `duma-table__table ${className}` }, props))));
});

const TableHead = a$6.forwardRef((_a, ref) => {
    var { className } = _a, props = __rest(_a, ["className"]);
    return (a$6.createElement("thead", Object.assign({ ref: ref, className: `duma-table__head ${className}` }, props)));
});

const TableRow = a$6.forwardRef((_a, ref) => {
    var { className } = _a, props = __rest(_a, ["className"]);
    return (a$6.createElement("tr", Object.assign({ ref: ref, className: `duma-table__row ${className}` }, props)));
});

const TableHeaderCell = a$6.forwardRef((_a, ref) => {
    var { className } = _a, props = __rest(_a, ["className"]);
    return (a$6.createElement("th", Object.assign({ ref: ref, className: `duma-table__header-cell ${className}` }, props)));
});

const TableBody = a$6.forwardRef((_a, ref) => {
    var { className } = _a, props = __rest(_a, ["className"]);
    return (a$6.createElement("tbody", Object.assign({ ref: ref, className: `duma-table__body ${className}` }, props)));
});

const TableDataCell = a$6.forwardRef((_a, ref) => {
    var { className } = _a, props = __rest(_a, ["className"]);
    return (a$6.createElement("td", Object.assign({ ref: ref, className: `duma-table__data-cell ${className}` }, props)));
});

const useRowSelection = (data, // Current data for the page
localSelectedRows, // All selected rows across pages
setLocalSelectedRows, onRowSelectionChange) => {
    // Memoized to check if all rows on the current page are selected
    const isAllRowsSelectedOnPage = a$6.useMemo(() => {
        return data.length > 0 && data.every(row => localSelectedRows.includes(row));
    }, [data, localSelectedRows]);
    // Select or deselect all rows on the current page
    const handleSelectAllRows = a$6.useCallback((e) => {
        const allSelected = e.target.checked;
        const updatedSelectedRows = allSelected
            ? [...new Set([...localSelectedRows, ...data])] // Select all rows on current page
            : localSelectedRows.filter(selectedRow => !data.includes(selectedRow)); // Deselect all rows on current page
        setLocalSelectedRows(updatedSelectedRows);
        onRowSelectionChange === null || onRowSelectionChange === void 0 ? void 0 : onRowSelectionChange(updatedSelectedRows);
    }, [data, localSelectedRows, setLocalSelectedRows, onRowSelectionChange]);
    // Select or deselect individual row
    const handleRowSelection = a$6.useCallback((e, rowIndex) => {
        const row = data[rowIndex];
        const updatedSelectedRows = e.target.checked
            ? [...localSelectedRows, row] // Add row to selection
            : localSelectedRows.filter((selectedRow) => selectedRow !== row); // Remove row from selection
        setLocalSelectedRows(updatedSelectedRows);
        onRowSelectionChange === null || onRowSelectionChange === void 0 ? void 0 : onRowSelectionChange(updatedSelectedRows);
    }, [data, localSelectedRows, setLocalSelectedRows, onRowSelectionChange]);
    return {
        handleSelectAllRows,
        handleRowSelection,
        isAllRowsSelectedOnPage // This can be used to control the state of the header checkbox
    };
};

// eslint-disable-next-line @typescript-eslint/no-explicit-any
function castToString(value) {
    return value;
}

const useTableSorting = (sort, onSortChange) => {
    const handleSortChange = a$6.useCallback((name) => {
        const currentSortField = castToString(sort).split(" ")[0];
        const currentSortOrder = castToString(sort).split(" ")[1];
        const newSortOrder = currentSortField === name && currentSortOrder === "asc"
            ? "desc"
            : "asc";
        onSortChange === null || onSortChange === void 0 ? void 0 : onSortChange(`${name} ${newSortOrder}`);
    }, [sort, onSortChange]);
    const sortedBy = castToString(sort).split(" ")[0];
    const sortOrder = castToString(sort).split(" ")[1];
    return { handleSortChange, sortedBy, sortOrder };
};

const useExpandableRows = () => {
    const [expandedRows, setExpandedRows] = a$6.useState(new Set());
    const toggleExpandRow = a$6.useCallback((rowIndex) => {
        setExpandedRows((prevExpandedRows) => {
            const newExpandedRows = new Set(prevExpandedRows);
            if (newExpandedRows.has(rowIndex)) {
                newExpandedRows.delete(rowIndex);
            }
            else {
                newExpandedRows.add(rowIndex);
            }
            return newExpandedRows;
        });
    }, []);
    return { expandedRows, toggleExpandRow };
};

function useTableColumns({ children, hasIndexColumn, data, localSelectedRows, handleSelectAllRows, handleRowSelection, onRowSelectionChange, }) {
    const childArray = a$6.Children.toArray(children);
    return a$6.useMemo(() => {
        let baseColumns = childArray.filter(a$6.isValidElement);
        if (hasIndexColumn) {
            baseColumns = [
                {
                    props: {
                        name: "index",
                        label: "#",
                        width: 50,
                        render: (index) => index + 1,
                        valueSelector: () => undefined,
                    },
                },
                ...baseColumns,
            ];
        }
        if (onRowSelectionChange) {
            baseColumns = [
                {
                    props: {
                        name: "checkbox",
                        width: 50,
                        label: (a$6.createElement("input", { type: "checkbox", checked: localSelectedRows.length === data.length, onChange: handleSelectAllRows })),
                        render: (rowIndex) => (a$6.createElement("input", { type: "checkbox", checked: localSelectedRows.includes(data[rowIndex]), onClick: (e) => e.stopPropagation(), onChange: (e) => handleRowSelection(e, rowIndex) })),
                        valueSelector: () => undefined,
                    },
                },
                ...baseColumns,
            ];
        }
        return baseColumns;
    }, [
        childArray,
        hasIndexColumn,
        onRowSelectionChange,
        data,
        localSelectedRows,
    ]);
}

const useContextMenu = () => {
    const [contextMenu, setContextMenu] = a$6.useState({
        data: null,
        position: null,
    });
    const menuRef = a$6.useRef(null);
    const openContextMenu = (e, rowData) => {
        e.preventDefault();
        const clickX = e.clientX;
        const clickY = e.clientY;
        const screenWidth = window.innerWidth;
        const screenHeight = window.innerHeight;
        // Prvo postavimo meni na inicijalnu poziciju
        setContextMenu({
            data: rowData,
            position: { x: clickX, y: clickY },
        });
        // Kada se meni renderuje, izračunaj tačnu poziciju
        setTimeout(() => {
            if (menuRef.current) {
                const menuWidth = menuRef.current.offsetWidth;
                const menuHeight = menuRef.current.offsetHeight;
                // Ako nema dovoljno prostora desno, pomeri meni levo
                const positionX = clickX + menuWidth > screenWidth
                    ? clickX - menuWidth
                    : clickX;
                // Ako nema dovoljno prostora dole, pomeri meni gore
                const positionY = clickY + menuHeight > screenHeight
                    ? clickY - menuHeight
                    : clickY;
                // Ažuriraj poziciju menija sa tačnim koordinatama
                setContextMenu({
                    data: rowData,
                    position: { x: positionX, y: positionY },
                });
            }
        }, 0); // Ovo osigurava da ref postane dostupan pre kalkulacija
    };
    const closeContextMenu = () => {
        setContextMenu({ data: null, position: null });
    };
    // Zatvaranje menija kada se klikne van njega
    a$6.useEffect(() => {
        const handleClickOutside = (event) => {
            if (menuRef.current && !menuRef.current.contains(event.target)) {
                closeContextMenu();
            }
        };
        document.addEventListener("mousedown", handleClickOutside);
        return () => {
            document.removeEventListener("mousedown", handleClickOutside);
        };
    }, []);
    return {
        contextMenu,
        openContextMenu,
        closeContextMenu,
        menuRef, // Ref za kontekst meni
    };
};

const BaseTable = ({ children, data, sort, hasIndexColumn, tableClassName, tableHeadClassName, tableHeadRowClassName, tableBodyClassName, tableBodyRowClassName, tableExpandableClassName, tableIconWrapperClassName, onSortChange, onRowClick, selectedRows = [], onRowSelectionChange, expandableContent, rowActions, contextComponent, }) => {
    var _a, _b;
    const [localSelectedRows, setLocalSelectedRows] = a$6.useState(selectedRows);
    const { handleSortChange, sortedBy } = useTableSorting(sort, onSortChange);
    const { handleSelectAllRows, handleRowSelection } = useRowSelection(data, localSelectedRows, setLocalSelectedRows, onRowSelectionChange);
    const { expandedRows, toggleExpandRow } = useExpandableRows();
    const columns = useTableColumns({
        children,
        hasIndexColumn,
        data,
        localSelectedRows,
        handleSelectAllRows,
        handleRowSelection,
        onRowSelectionChange,
    });
    const { contextMenu, openContextMenu, closeContextMenu, menuRef } = useContextMenu();
    return (a$6.createElement(a$6.Fragment, null,
        a$6.createElement(Table, { className: `duma-table__table ${tableClassName}` },
            a$6.createElement(TableHead, { className: tableHeadClassName },
                a$6.createElement(TableRow, { className: tableHeadRowClassName },
                    expandableContent && (a$6.createElement(TableHeaderCell, { style: { width: 50 } })),
                    columns.map((column, index) => (a$6.createElement(TableHeaderCell, { key: index, style: {
                            textAlign: column.props.justify || "left",
                            width: typeof column.props.width === "number"
                                ? `${column.props.width}px`
                                : "auto",
                        } },
                        a$6.createElement("div", { onClick: () => column.props.sortable
                                ? handleSortChange(column.props.name)
                                : undefined, className: `duma-table__head-title ${column.props.sortable
                                ? "duma-table__head-title--sortable"
                                : ""}` },
                            column.props.label || column.props.name,
                            column.props.sortable && (a$6.createElement(BaseTable.SortButton, { sorting: (sortedBy === column.props.name
                                    ? castToString(sort).split(" ")[1]
                                    : "unset"), tableIconWrapperClassName: tableIconWrapperClassName })))))),
                    rowActions && a$6.createElement(TableHeaderCell, { style: { textAlign: "right" } }))),
            a$6.createElement(TableBody, { className: tableBodyClassName }, data.map((rowData, rowIndex) => (a$6.createElement(a$6.Fragment, { key: rowIndex },
                a$6.createElement(TableRow, { className: `duma-table__body-row ${onRowClick ? "duma-table__body-row--clickable" : ""} ${tableBodyRowClassName}`, onClick: () => {
                        onRowClick === null || onRowClick === void 0 ? void 0 : onRowClick(rowData);
                        if (expandableContent)
                            toggleExpandRow(rowIndex);
                    }, onContextMenu: (e) => openContextMenu(e, rowData) },
                    expandableContent && (a$6.createElement(TableDataCell, null,
                        a$6.createElement("span", { onClick: (e) => {
                                e.stopPropagation();
                                toggleExpandRow(rowIndex);
                            } },
                            expandedRows.has(rowIndex) ? a$6.createElement(I, null) : a$6.createElement(D$1, null),
                            " "))),
                    columns.map((column, colIndex) => (a$6.createElement(TableDataCell, { key: colIndex, style: {
                            textAlign: column.props.justify || "left",
                            width: typeof column.props.width === "number"
                                ? `${column.props.width}px`
                                : "auto",
                        } }, column.props.render(column.props.name === "index" ||
                        column.props.name === "checkbox"
                        ? rowIndex
                        : column.props.valueSelector(rowData))))),
                    rowActions && (a$6.createElement(TableDataCell, { style: { textAlign: "right" } }, rowActions(rowData)))),
                expandedRows.has(rowIndex) && (a$6.createElement(TableRow, null,
                    a$6.createElement(TableDataCell, { className: `duma-table__expandable ${tableExpandableClassName}`, colSpan: columns.length + 2 }, expandableContent === null || expandableContent === void 0 ? void 0 :
                        expandableContent(rowData),
                        " ")))))))),
        contextMenu.position &&
            contextComponent &&
            contextMenu.data && ( // Proveravamo da li postoji data pre prikaza
        a$6.createElement("div", { ref: menuRef, style: {
                position: "fixed",
                top: (_a = contextMenu.position) === null || _a === void 0 ? void 0 : _a.y,
                left: (_b = contextMenu.position) === null || _b === void 0 ? void 0 : _b.x,
                zIndex: 1000,
                whiteSpace: "nowrap",
            }, onClick: closeContextMenu }, contextComponent(contextMenu.data, contextMenu.position)))));
};
const sortingIcons = {
    asc: a$6.createElement(D$1, null),
    desc: a$6.createElement(I, null),
    unset: a$6.createElement(D, null),
};
BaseTable.SortButton = ({ sorting, tableIconWrapperClassName, }) => (a$6.createElement("div", { className: `duma-table__sort-icon--wrapper ${tableIconWrapperClassName}` }, sortingIcons[sorting]));

exports.BaseTable = BaseTable;
exports.TableColumn = TableColumn;
//# sourceMappingURL=index.cjs.js.map
